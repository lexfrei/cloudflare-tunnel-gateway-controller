# External secrets example - Kubernetes Secret
# Use existing Kubernetes Secret for API credentials
#
# NOTE: For integration with External Secrets Operator (AWS Secrets Manager,
# GCP Secret Manager, Azure Key Vault, HashiCorp Vault, etc.), see:
# external-secrets-operator.yaml
#
# Prerequisites:
#   1. Create a secret with the API token:
#      kubectl create secret generic cloudflare-credentials \
#        --namespace cloudflare-tunnel-system \
#        --from-literal=api-token="your-api-token" \
#        --from-literal=account-id="your-account-id"  # optional
#
#   2. Create a secret with the tunnel token:
#      kubectl create secret generic cloudflare-tunnel-token \
#        --namespace cloudflare-tunnel-system \
#        --from-literal=tunnel-token="your-tunnel-token"
#
# Usage:
#   helm install cloudflare-tunnel-gateway-controller \
#     oci://ghcr.io/lexfrei/cloudflare-tunnel-gateway-controller/chart \
#     --namespace cloudflare-tunnel-system \
#     --create-namespace \
#     --values external-secrets-values.yaml

gatewayClassConfig:
  create: true

  # Cloudflare Tunnel ID (required)
  tunnelID: "your-tunnel-id"

  # Reference to existing secret containing API credentials
  # Secret must have key: api-token (and optionally: account-id)
  cloudflareCredentialsSecretRef:
    name: "cloudflare-credentials"
    # Optionally specify a different namespace
    # namespace: "secrets-namespace"
    # Optionally specify a different key name
    # key: "cf-api-token"

  # Reference to existing secret containing tunnel token
  tunnelTokenSecretRef:
    name: "cloudflare-tunnel-token"

  cloudflared:
    enabled: true
    replicas: 1
    namespace: "cloudflare-tunnel-system"
